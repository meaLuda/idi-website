{% extends '../base.html' %}
{% load static %}

{% block content %}
    <!-- Hero Slider -->
    <div class="slide-container">
        <div class="slide active" style="background: url('media/for-website-IDI-Homepage-.pdf-1.jpg') center/cover;">
            <div class="slide-content">
                <p class="text-sm tracking-wider mb-4">CONTEXT-BASED INSIGHTS</p>
                <h2 class="text-5xl font-bold">
                    Continuous <span class="text-[#ffd300]">learning</span><br>
                    with <span class="text-[#ffd300]">people</span> and<br>
                    their <span class="text-[#ffd300]">ecosystems</span>
                </h2>
            </div>
        </div>
        <div class="slide" style="background: url('media/for-website-IDI-Homepage-.pdf-15-scaled.jpg') center/cover;">
            <div class="slide-content">
                <p class="text-sm tracking-wider mb-4">DESIGNING FOR RELEVANCE</p>
                <h2 class="text-5xl font-bold">
                    Co-creating experiences that<br>
                    leverage contextual resources
                </h2>
            </div>
        </div>
        <div class="slide" style="background: url('media/4-1-scaled.jpg') center/cover;">
            <div class="slide-content">
                <p class="text-sm tracking-wider mb-4">DESIGNING FOR IMPACT</p>
                <h2 class="text-5xl font-bold">
                    Building capabilities to solve<br>
                    the most pressing challenges<br>
                    for Africa
                </h2>
            </div>
        </div>
    </div>
    <!-- Divider Section -->
    <section class="h-[20px] relative overflow-hidden" style="background-image: url('media/slicer.png'); background-size: cover;">
    </section>
    <!-- About Us Section -->
    <section id="about-us" class="min-h-screen py-20 relative overflow-hidden bg-cover bg-center bg-fixed" style="background-image: url('media/side_semi_circle.jpg')">
        <div class="container mx-auto px-4 relative z-10">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                <div class="space-y-6 p-8 rounded-lg backdrop-blur-sm">
                    <img src="{% static 'images/wp-content/uploads/2024/04/IDI-Partnership-Logos-5.png' %}" alt="IDI Logo" class="w-70">
                    <h2 class="text-[#006377] text-4xl font-semibold">Our approach to innovation is holistic</h2>
                    <p class="text-gray-700 leading-relaxed">
                        Institute of Design and Innovation is a pioneering organization at the forefront of research, design, and innovation. We are deeply ingrained in human-centred principles, behavioural insights, systemic thinking, and service design methodologies, serving as catalysts for transformative change.
                    </p>
                    <p class="text-gray-700 leading-relaxed">
                        Our mission extends beyond the ordinary, as we passionately invest in impact-driven practices and community-led initiatives, nurturing holistic and scalable outcomes that positively affect social, economic, and environmental realms.
                    </p>
                </div>
                <div class="relative rounded-lg overflow-hidden">
                    <div id="lottie-container" class="w-full h-[800px]"></div>
                </div>
            </div>
        </div>
    </section>
    <!-- Divider Section -->
    <section class="h-[20px] relative overflow-hidden" style="background-image: url('media/slicer.png'); background-size: cover;">
    </section>
    <!-- What We Do Section -->
    <section id="what-we-do" class="h-[650px] relative overflow-hidden">
        <!-- Background Image -->
        <div class="absolute inset-0">
            <img src="{% static 'images/what-we-do-bg.jpg' %}" alt="Background" 
                class="w-full h-full object-cover brightness-75 sepia"
                style="filter: brightness(0.5) sepia(0.5);">
        </div>
    
        <!-- Title Image - Positioned Absolutely -->
        <div class="absolute right-4 md:right-20 z-10">
            <img src="{% static 'images/what-we-do-title.png' %}" alt="What We Do" class="w-[500px]">
        </div>
    
        <!-- Content -->
        <div class="relative z-10 container mx-auto px-[4px] py-[180px]">
            <div class="flex flex-col items-end max-w-3xl ml-auto mt-16 md:mt-24">
                <!-- Description -->
                <p class="text-white font-bold text-xl md:text-2xl text-right leading-relaxed">
                    IDI's systemic approach harnesses the exchange of values across ecosystems and forms the foundation for fostering impactful solutions through actively cultivating cross-disciplinary collaborations across the innovation landscape in Africa.
                </p>
            </div>
        </div>
    </section>
    <section id="what-we-do" class="min-h-screen">
        <div class="grid grid-cols-1 md:grid-cols-3">
            <!-- Learn Column -->
            <div class="bg-[#FDFDE7] p-12 md:p-20">
                <div class="flex flex-col items-center">
                    <img src="{% static 'images/wp-content/uploads/2024/03/17.png' %}"  alt="Learn Icon" class="w-[300px] mb-12">
                    <h3 class="text-lg uppercase mb-1">LEARN</h3>
                    <p class="text-gray-600 italic mb-8">Insights & Data</p>
                    <p class="text-center text-sm mb-12 max-w-xs">
                        We deliver evidence-based data and translate it into action-oriented insights for informed decision-making.
                    </p>
                    <div class="space-y-3 text-sm font-bold text-center">
                        <p>Behavioural Research</p>
                        <p>Design Research</p>
                        <p>Scientific Research</p>
                        <p>Ecosystem Mapping</p>
                        <p>Product Testing</p>
                        <p>Impact Evaluation</p>
                    </div>
                </div>
            </div>
    
            <!-- Create Column -->
            <div class="bg-white p-12 md:p-20">
                <div class="flex flex-col items-center">
                    <img src="{% static 'images/wp-content/uploads/2024/03/IDI-Design-Space-5.jpg' %}" alt="Create Icon" class="w-[300px] mb-12">
                    <h3 class="text-lg uppercase mb-1">CREATE</h3>
                    <p class="text-gray-600 italic mb-8">Strategize & Design</p>
                    <p class="text-center text-sm mb-12 max-w-xs">
                        We systematically strategize and design relevant, dignified and innovative solutions, programs, and businesses.
                    </p>
                    <div class="space-y-3 text-sm font-bold text-center">
                        <p>Design Research</p>
                        <p>Product Strategy & Design</p>
                        <p>Human Centered Design</p>
                        <p>Ecosystem Design</p>
                        <p>Service Design</p>
                        <p>Behavioural Design</p>
                        <p>Program Design</p>
                        <p>Communication Design</p>
                    </div>
                </div>
            </div>
    
            <!-- Empower Column -->
            <div class="bg-[#EAEAEA] p-12 md:p-20">
                <div class="flex flex-col items-center">
                    <img src="{% static 'images/wp-content/uploads/2024/03/18.png' %}"  alt="Empower Icon" class="w-[300px] mb-12">
                    <h3 class="text-lg uppercase mb-1">EMPOWER</h3>
                    <p class="text-gray-600 italic mb-8">Action & Influence</p>
                    <p class="text-center text-sm mb-12 max-w-xs">
                        We transform strategies and designs into sustainable empowerment and development initiatives that leave a lasting legacy of impact.
                    </p>
                    <div class="space-y-3 text-sm font-bold text-center">
                        <p>Idea Validation</p>
                        <p>Design Research</p>
                        <p>Program Implementation</p>
                        <p>Design Innovation Training</p>
                        <p>Business Innovation Training</p>
                        <p>Business Development Support</p>
                        <p>Innovation Challenges</p>
                        <p>Scaling Solutions</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Divider Section -->
    <section class="h-[20px] relative overflow-hidden" style="background-image: url('media/slicer.png'); background-size: cover;">
    </section>
    <!-- Our Approach Section -->
    <section id="our-approach" class="h-[600px]  py-20" style="background-image: url('media/engagment_bg.jpg'); background-size: cover;">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                <div>
                    <img src="{% static 'images/wp-content/uploads/2024/07/IDI-Partnership-Logos-13.png' %}" alt="Partnership Logo" class="w-[500px] mb-8">
                </div>
            </div>
        </div>
    </section>

    <!-- A holistic Approach section - Increased display time for secondary images -->
    <section id="holistic-section" class="w-full bg-[#EDEDED] py-20">
        <h2 class="text-center text-3xl md:text-4xl font-semibold mt-5 mb-20">A holistic approach to innovation</h2>
        <div class="container mx-auto px-4">
            <div class="gallery-container">
                <div class="gallery-wrap" x-data="{ isMobile: window.innerWidth < 768 }" x-init="
                    window.addEventListener('resize', () => { isMobile = window.innerWidth < 768; });
                    if (isMobile) {
                        document.querySelector('.gallery-wrap').classList.add('mobile-gallery');
                    }
                "> 
                    <div class="item item-1 relative transition-transform duration-300 ease-in-out" 
                        x-data="{ hover: false }" 
                        @mouseenter="!isMobile && (hover = true)" 
                        @mouseleave="!isMobile && (hover = false)"
                        @touchstart="isMobile && (hover = true)"
                        @touchend="isMobile && setTimeout(() => hover = false, 3000)"
                        :class="{ 'scale-110 z-10': hover }">
                        <div class="bg-image" :style="hover ? 'background-image: url(\'media/sequence/replacer/2.jpg\')' : 'background-image: url(\'media/sequence/sequence1.jpg\')'"></div>
                    </div>

                    <div class="item item-2 relative transition-transform duration-300 ease-in-out" 
                        x-data="{ hover: false }" 
                        @mouseenter="!isMobile && (hover = true)" 
                        @mouseleave="!isMobile && (hover = false)"
                        @touchstart="isMobile && (hover = true)"
                        @touchend="isMobile && setTimeout(() => hover = false, 3000)"
                        :class="{ 'scale-110 z-10': hover }">
                        <div class="bg-image" :style="hover ? 'background-image: url(\'media/sequence/replacer/3.jpg\')' : 'background-image: url(\'media/sequence/sequence2.jpg\')'"></div>
                    </div>

                    <div class="item item-3 relative transition-transform duration-300 ease-in-out" 
                        x-data="{ hover: false }" 
                        @mouseenter="!isMobile && (hover = true)" 
                        @mouseleave="!isMobile && (hover = false)"
                        @touchstart="isMobile && (hover = true)"
                        @touchend="isMobile && setTimeout(() => hover = false, 3000)"
                        :class="{ 'scale-110 z-10': hover }">
                        <div class="bg-image" :style="hover ? 'background-image: url(\'media/sequence/replacer/4.jpg\')' : 'background-image: url(\'media/sequence/sequence3.jpg\')'"></div>
                    </div>

                    <div class="item item-4 relative transition-transform duration-300 ease-in-out" 
                        x-data="{ hover: false }" 
                        @mouseenter="!isMobile && (hover = true)" 
                        @mouseleave="!isMobile && (hover = false)"
                        @touchstart="isMobile && (hover = true)"
                        @touchend="isMobile && setTimeout(() => hover = false, 3000)"
                        :class="{ 'scale-110 z-10': hover }">
                        <div class="bg-image" :style="hover ? 'background-image: url(\'media/sequence/replacer/5.jpg\')' : 'background-image: url(\'media/sequence/sequence4.jpg\')'"></div>
                    </div>

                    <div class="item item-5 relative transition-transform duration-300 ease-in-out" 
                        x-data="{ hover: false }" 
                        @mouseenter="!isMobile && (hover = true)" 
                        @mouseleave="!isMobile && (hover = false)"
                        @touchstart="isMobile && (hover = true)"
                        @touchend="isMobile && setTimeout(() => hover = false, 3000)"
                        :class="{ 'scale-110 z-10': hover }">
                        <div class="bg-image" :style="hover ? 'background-image: url(\'media/sequence/replacer/6.jpg\')' : 'background-image: url(\'media/sequence/sequence5.jpg\')'"></div>
                    </div>
                </div>
            </div>
            <p class="text-center text-gray-500 italic text-sm mt-6 md:hidden">Swipe to see more • Tap to view details</p>
        </div>
    </section>

    <!-- responsive CSS for the gallery -->
    <style>
        .gallery-container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            overflow: hidden;
        }
        
        .gallery-wrap {
            display: flex;
            width: 100%;
            height: 70vh;
            max-height: 500px;
        }
        
        .item {
            flex: 1;
            height: 100%;
            position: relative;
            transition: all 0.8s ease;
            overflow: hidden;
            border-radius: 8px;
            margin: 0 5px;
        }
        
        .bg-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-position: center;
            background-size: contain;
            background-repeat: no-repeat;
            transition: all 0.5s ease;
        }
        
        /* Scale effect on hover/touch */
        .item:hover {
            flex: 1.5;
            z-index: 10;
        }
        
        /* Mobile adjustments */
        @media (max-width: 767px) {
            .gallery-wrap {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
                scroll-snap-type: x mandatory;
                padding-bottom: 15px; /* Space for scrollbar */
                height: 300px; /* Fixed height for mobile */
            }
            
            .item {
                min-width: 80%;
                flex: 0 0 80%;
                margin: 0 10px;
                scroll-snap-align: center;
            }
            
            .bg-image {
                background-position: center;
                background-size: contain;
                background-color: rgba(0,0,0,0.03); /* Very subtle background to make transparent images visible */
            }
            
            /* First and last items get some extra spacing to show there's more content */
            .item:first-child {
                margin-left: 20px;
            }
            
            .item:last-child {
                margin-right: 20px;
            }
            
            /* Hide scrollbar for cleaner look */
            .gallery-wrap::-webkit-scrollbar {
                display: none;
            }
            
            /* For Firefox */
            .gallery-wrap {
                scrollbar-width: none;
            }
        }
        
        /* Add a subtle indicator for horizontal scrolling on mobile */
        @media (max-width: 767px) {
            .gallery-container::after {
                content: "⟺";
                position: absolute;
                bottom: -15px;
                left: 50%;
                transform: translateX(-50%);
                color: rgba(0,0,0,0.2);
                font-size: 20px;
            }
        }
    </style>

    <!-- Enhanced touch interaction with LONGER display time -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Check if we're on mobile
            const isMobile = window.innerWidth < 768;
            
            // Preload all images to prevent blank states
            const imageUrls = [
                'media/sequence/sequence1.jpg',
                'media/sequence/sequence2.jpg',
                'media/sequence/sequence3.jpg',
                'media/sequence/sequence4.jpg',
                'media/sequence/sequence5.jpg',
                'media/sequence/replacer/2.jpg',
                'media/sequence/replacer/3.jpg',
                'media/sequence/replacer/4.jpg',
                'media/sequence/replacer/5.jpg',
                'media/sequence/replacer/6.jpg'
            ];
            
            // Preload all images
            imageUrls.forEach(url => {
                const img = new Image();
                img.src = url;
            });
            
            if (isMobile) {
                // Add touch-based interaction with longer display times
                const items = document.querySelectorAll('.item');
                
                items.forEach(item => {
                    // Track which items have active timers
                    item.hasActiveTimer = false;
                    
                    item.addEventListener('touchstart', function(e) {
                        // Prevent scroll while viewing detail
                        e.preventDefault();
                        
                        // Apply visual feedback
                        this.style.opacity = '0.9';
                        
                        // Cancel any existing timer when touched again
                        if (this.hasActiveTimer) {
                            clearTimeout(this.displayTimeout);
                        }
                        
                        // For any other item with active display, reset it
                        items.forEach(otherItem => {
                            if (otherItem !== item && otherItem.hasActiveTimer) {
                                // Reset other items
                                clearTimeout(otherItem.displayTimeout);
                                const otherItemImage = otherItem.querySelector('.bg-image');
                                if (otherItemImage) {
                                    otherItemImage.style.backgroundImage = otherItemImage.dataset.defaultImage;
                                }
                                otherItem.hasActiveTimer = false;
                                otherItem.classList.remove('scale-110', 'z-10');
                            }
                        });
                        
                        // Show the alternate image
                        const bgImage = this.querySelector('.bg-image');
                        if (bgImage) {
                            // Store the default image if not already stored
                            if (!bgImage.dataset.defaultImage) {
                                bgImage.dataset.defaultImage = getComputedStyle(bgImage).backgroundImage;
                            }
                            
                            // Get hover image URL
                            const hoverImageUrl = bgImage.dataset.defaultImage.replace('sequence', 'replacer');
                            
                            // Set the hover image
                            bgImage.style.backgroundImage = hoverImageUrl;
                        }
                        
                        // Add the scale effect
                        this.classList.add('scale-110', 'z-10');
                        
                        // Set a longer timer (5 seconds)
                        this.hasActiveTimer = true;
                        this.displayTimeout = setTimeout(() => {
                            if (bgImage) {
                                bgImage.style.backgroundImage = bgImage.dataset.defaultImage;
                            }
                            this.classList.remove('scale-110', 'z-10');
                            this.hasActiveTimer = false;
                        }, 5000); // 5 seconds
                    });
                    
                    item.addEventListener('touchend', function() {
                        // Just restore opacity
                        this.style.opacity = '1';
                        // Don't reset the image yet - let the timer handle it
                    });
                });
                
                // Improve scrolling experience
                const gallery = document.querySelector('.gallery-wrap');
                
                // Add fading edges for scroll indication
                const leftFade = document.createElement('div');
                leftFade.className = 'absolute left-0 top-0 bottom-0 w-12 bg-gradient-to-r from-[#EDEDED] to-transparent pointer-events-none z-10';
                
                const rightFade = document.createElement('div');
                rightFade.className = 'absolute right-0 top-0 bottom-0 w-12 bg-gradient-to-l from-[#EDEDED] to-transparent pointer-events-none z-10';
                
                if (gallery) {
                    gallery.parentNode.style.position = 'relative';
                    gallery.parentNode.appendChild(leftFade);
                    gallery.parentNode.appendChild(rightFade);
                    
                    // Update fade opacity based on scroll position
                    gallery.addEventListener('scroll', function() {
                        const maxScroll = gallery.scrollWidth - gallery.clientWidth;
                        const scrollRatio = gallery.scrollLeft / maxScroll;
                        
                        // Fade out left/right indicators based on scroll position
                        leftFade.style.opacity = gallery.scrollLeft > 20 ? '1' : '0';
                        rightFade.style.opacity = scrollRatio < 0.95 ? '1' : '0';
                    });
                }
            }
        });
    </script>

    <!-- Divider Section -->
    <section class="h-[20px] relative overflow-hidden" style="background-image: url('media/slicer.png'); background-size: cover;">
    </section>
    
    <!-- Our Work Section -->
    <section id="our-work" class="py-15">
        <!-- Header in container -->
        <div class="container mx-auto px-4 mb-8 md:mb-16 mt-6">
            <div class="text-center">
                <h2 class="text-4xl font-bold text-[#006B7D] mb-6">Our Work</h2>
                <p class="text-gray-600 max-w-3xl font-bold mx-auto">
                    IDI employs cross-disciplinary collaborations to generate impactful outcomes that benefit all stakeholders. We firmly believe in seamlessly integrating design into products, services, processes, and systems
                </p>
            </div>
        </div>

        <!-- Swiper -->
        <div class="swiper projectSwiper">
            <div class="swiper-wrapper">
                {% for project in projects %}
                <div class="swiper-slide w-full">
                    <a href="{% url 'home:project_detail' project.slug %}" 
                    class="group relative overflow-hidden h-[400px] md:h-[600px] block cursor-pointer w-full">
                        <!-- Image -->
                        <div class="w-full h-full overflow-hidden">
                            <img src="{{ project.thumbnail.url }}" 
                                alt="{{ project.title }}" 
                                class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                        </div>
                        
                        <!-- Title -->
                        <div class="absolute bottom-8 md:bottom-16 left-8 md:left-16 z-20 w-full pr-8 md:pr-16">
                            <h3 class="text-white text-2xl md:text-3xl">{{ project.title }}</h3>
                        </div>
                    </a>
                </div>
                {% empty %}
                    <div class="w-full">
                        <div class="bg-white rounded-xl p-8 shadow-md flex flex-col items-center justify-center">
                            <div class="text-gray-400 mb-4">
                                <svg class="w-10 h-10 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                            </div>
                            <p class="text-gray-700 italic text-center">
                                No Projects available at the moment.
                            </p>
                            <p class="text-gray-500 text-sm text-center">
                                Please check back later.
                            </p>
                        </div>
                    </div>
                {% endfor %}
            </div>
            <!-- Navigation buttons -->
            <div class="swiper-button-next after:text-white"></div>
            <div class="swiper-button-prev after:text-white"></div>
        </div>
    </section>

    <!-- Divider Section -->
    <section class="h-[20px] relative overflow-hidden" style="background-image: url('media/slicer.png'); background-size: cover;">
    </section>

    <!-- Partners and Clients Section (Moved above Team Section) -->
    <section class="py-20 bg-white">
        <div class="container mx-auto px-4">
            <!-- Title and Description -->
            <div class="max-w-4xl mb-16">
                <h2 class="text-[45px] leading-tight text-gray-800 font-normal mb-8">
                    Our partners<br>
                    and clients
                </h2>
                <p class="text-gray-600 text-lg leading-relaxed">
                    Through collaborative efforts, we craft solutions that effectively address the requirements and ambitions of individuals, communities, businesses, institutions, and the general public with local and global partners and clients.
                </p>
            </div>

            <!-- Partners Section -->
            <div class="mb-20">
                <h3 class="text-2xl text-[#006377] font-semibold mb-8">Partners</h3>
                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8">
                    <!-- OSE Technology -->
                    <div class="group relative">
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 aspect-square flex items-center justify-center transition-all duration-300 hover:shadow-md hover:scale-105">
                            <img src="{% static 'images/partners/special-envoy.png' %}" alt="Office of the Special Envoy Technology" class="w-full h-full object-contain">
                        </div>
                    </div>

                    <!-- Space.ai -->
                    <div class="group relative">
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 aspect-square flex items-center justify-center transition-all duration-300 hover:shadow-md hover:scale-105">
                            <img src="{% static 'images/partners/space-ai.png' %}" alt="Space.ai" class="w-full h-full object-contain">
                        </div>
                    </div>

                    <!-- ActionLab -->
                    <div class="group relative">
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 aspect-square flex items-center justify-center transition-all duration-300 hover:shadow-md hover:scale-105">
                            <img src="{% static 'images/partners/action-lab.png' %}" alt="ActionLab" class="w-full h-full object-contain">
                        </div>
                    </div>

                    <!-- Regional Center of Excellence -->
                    <div class="group relative">
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 aspect-square flex items-center justify-center transition-all duration-300 hover:shadow-md hover:scale-105">
                            <img src="{% static 'images/partners/regional-center.webp' %}" alt="Regional Center of Excellence" class="w-full h-full object-contain">
                        </div>
                    </div>

                    <!-- DDI -->
                    <div class="group relative">
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 aspect-square flex items-center justify-center transition-all duration-300 hover:shadow-md hover:scale-105">
                            <img src="{% static 'images/partners/ddi.png' %}" alt="DDI" class="w-full h-full object-contain">
                        </div>
                    </div>

                    <!-- Proportion Global -->
                    <div class="group relative">
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 aspect-square flex items-center justify-center transition-all duration-300 hover:shadow-md hover:scale-105">
                            <img src="{% static 'images/partners/proportion.png' %}" alt="Proportion Global" class="w-full h-full object-contain">
                        </div>
                    </div>

                    <!-- Under our skin -->
                    <div class="group relative">
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 aspect-square flex items-center justify-center transition-all duration-300 hover:shadow-md hover:scale-105">
                            <img src="{% static 'images/partners/under-your-skin.png' %}" alt="Under Our Skin" class="w-full h-full object-contain">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Clients Section -->
            <div>
                <h3 class="text-2xl text-[#006377] font-semibold mb-8">Clients</h3>
                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8">
                    <!-- E4Impact -->
                    <div class="group relative">
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 aspect-square flex items-center justify-center transition-all duration-300 hover:shadow-md hover:scale-105">
                            <img src="{% static 'images/partners/e4impact.png' %}" alt="E4Impact" class="w-full h-full object-contain">
                        </div>
                    </div>

                    <!-- Challenge Works -->
                    <div class="group relative">
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 aspect-square flex items-center justify-center transition-all duration-300 hover:shadow-md hover:scale-105">
                            <img src="{% static 'images/partners/challenge-works.png' %}" alt="Challenge Works" class="w-full h-full object-contain">
                        </div>
                    </div>

                    <!-- Founders Factory Africa -->
                    <div class="group relative">
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 aspect-square flex items-center justify-center transition-all duration-300 hover:shadow-md hover:scale-105">
                            <img src="{% static 'images/partners/founders-factory.png' %}" alt="Founders Factory Africa" class="w-full h-full object-contain">
                        </div>
                    </div>

                    <!-- UNEP -->
                    <div class="group relative">
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 aspect-square flex items-center justify-center transition-all duration-300 hover:shadow-md hover:scale-105">
                            <img src="{% static 'images/partners/unep.png' %}" alt="UNEP" class="w-full h-full object-contain">
                        </div>
                    </div>

                    <!-- UNICEF -->
                    <div class="group relative">
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 aspect-square flex items-center justify-center transition-all duration-300 hover:shadow-md hover:scale-105">
                            <img src="{% static 'images/partners/unicef.png' %}" alt="UNICEF" class="w-full h-full object-contain">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Divider Section -->
    <section class="h-[20px] relative overflow-hidden" style="background-image: url('media/slicer.png'); background-size: cover;">
    </section>

    <!-- New Testimonials Section -->
    <section class="py-20 bg-[#f5f5f5]">
        <div class="container mx-auto px-4">
            <div class="text-center mb-16">
                <h2 class="text-[45px] leading-tight text-gray-800 font-normal mb-8">What People Say</h2>
                <p class="text-gray-600 text-lg max-w-3xl mx-auto">
                    Hear from our clients, partners, and collaborators about their experiences working with IDI.
                </p>
            </div>

            <!-- Testimonials Slider -->
            <div class="max-w-5xl mx-auto">
                <div class="swiper testimonialSwiper">
                    <div class="swiper-wrapper">
                        {% for testimonial in testimonials %}
                        <div class="swiper-slide">
                            <div class="bg-white rounded-xl p-8 shadow-md">
                                <!-- Quote icon -->
                                <div class="text-[#006B7D]/10 mb-2">
                                    <svg class="w-12 h-12" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z" />
                                    </svg>
                                </div>
                                <p class="text-gray-700 italic mb-6">
                                    "{{ testimonial.content }}"
                                </p>
                                <div class="flex items-center">
                                    {% if testimonial.image %}
                                    <img src="{{ testimonial.image.url }}" alt="{{ testimonial.name }}" class="w-12 h-12 rounded-full mr-4 object-cover">
                                    {% else %}
                                    <div class="w-12 h-12 bg-gray-300 rounded-full mr-4 flex items-center justify-center text-gray-500">
                                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                                        </svg>
                                    </div>
                                    {% endif %}
                                    <div>
                                        <h4 class="font-bold text-gray-900">{{ testimonial.name }}</h4>
                                        <p class="text-gray-600 text-sm">{{ testimonial.position }}{% if testimonial.company %}, {{ testimonial.company }}{% endif %}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% empty %}
                           <div class="w-full">
                                <div class="bg-white rounded-xl p-8 shadow-md flex flex-col items-center justify-center">
                                    <div class="text-gray-400 mb-4">
                                        <svg class="w-10 h-10 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                        </svg>
                                    </div>
                                    <p class="text-gray-700 italic text-center">
                                        No testimonials available at the moment.
                                    </p>
                                    <p class="text-gray-500 text-sm text-center">
                                        Please check back later.
                                    </p>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                    
                    <!-- Add navigation arrows -->
                    <div class="swiper-button-next text-[#006377]"></div>
                    <div class="swiper-button-prev text-[#006377]"></div>
                    
                    <!-- Add pagination dots -->
                    <div class="swiper-pagination mt-8"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Slider Navigation -->
    <div class="absolute bottom-10 left-1/2 transform -translate-x-1/2 flex space-x-2" id="slider-dots">
        <div class="dot active"></div>
        <div class="dot"></div>
        <div class="dot"></div>
    </div>
    
    <!-- Add Testimonial Swiper Script -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize the testimonials swiper
            if (document.querySelector('.testimonialSwiper')) {
                const testimonialSwiper = new Swiper('.testimonialSwiper', {
                    slidesPerView: 1,
                    spaceBetween: 30,
                    loop: true,
                    autoplay: {
                        delay: 5000,
                        disableOnInteraction: false,
                    },
                    pagination: {
                        el: '.swiper-pagination',
                        clickable: true,
                    },
                    navigation: {
                        nextEl: '.swiper-button-next',
                        prevEl: '.swiper-button-prev',
                    },
                    breakpoints: {
                        768: {
                            slidesPerView: 2,
                            spaceBetween: 20,
                        },
                        1024: {
                            slidesPerView: 2,
                            spaceBetween: 30,
                        },
                    },
                });
            }
        });
    </script>
{% endblock %}